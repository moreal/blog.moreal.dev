<?xml version="1.0" encoding="UTF-8"?>
<feed xmlns="http://www.w3.org/2005/Atom" xml:lang="en">
    <title> - retrospection</title>
    <link rel="self" type="application/atom+xml" href="https://moreal.dev/tags/retrospection/atom.xml"/>
    <link rel="alternate" type="text/html" href="https://moreal.dev"/>
    <generator uri="https://www.getzola.org/">Zola</generator>
    <updated>2025-03-30T00:00:00+00:00</updated>
    <id>https://moreal.dev/tags/retrospection/atom.xml</id>
    <entry xml:lang="en">
        <title>Fedify CLI로 Content Warnings 이해하기</title>
        <published>2025-03-30T00:00:00+00:00</published>
        <updated>2025-03-30T00:00:00+00:00</updated>
        
        <author>
          <name>
            
              Unknown
            
          </name>
        </author>
        
        <link rel="alternate" type="text/html" href="https://moreal.dev/blog/understanding-mastodon-content-warnings-with-fedify-cli/"/>
        <id>https://moreal.dev/blog/understanding-mastodon-content-warnings-with-fedify-cli/</id>
        
        <content type="html" xml:base="https://moreal.dev/blog/understanding-mastodon-content-warnings-with-fedify-cli/">&lt;blockquote&gt;
&lt;p&gt;&lt;a href=&quot;https:&#x2F;&#x2F;hackers.pub&quot;&gt;Hackers&#x27; Pub&lt;&#x2F;a&gt; 에서 먼저 작성하고 개인 블로그로 옮긴 글이다.&lt;&#x2F;p&gt;
&lt;&#x2F;blockquote&gt;
&lt;h2 id=&quot;seomun-donggi&quot;&gt;서문 (동기)&lt;&#x2F;h2&gt;
&lt;p&gt;Mastodon에서 글을 쓸 때 Content Warnings을 자주 쓰는데:&lt;&#x2F;p&gt;
&lt;ol&gt;
&lt;li&gt;내가 쓰는 글이 어떤 사람에게는 기분 상할 글일 수도 있을까 하는 걱정도 있고,&lt;&#x2F;li&gt;
&lt;li&gt;혼자 말을 자주 적는데 소음같이 느껴져서 보고 싶지 않을 사람도 있을까 싶어서 &quot;혼자 말&quot; 같은 경고문을 달고 적어놓는다.&lt;&#x2F;li&gt;
&lt;&#x2F;ol&gt;
&lt;p&gt;요즘은 &quot;혼자 말&quot; 대신 요약을 좀 적어놓는 편인 것 같다. 그런데 Mastodon에서 글을 적으면 몇 글자 더 적을 수 있는지, 글자 수 제한을 표시해준다. Content Warnings을 적는데도 글자 수 제한이 줄어드는 것을 보고 본문과 Content Warnings가 같은 필드에 있는 걸까 그런 궁금증이 들었다. 어떻게 생겼는지 보고 글을 적고 있는 지금 다시 생각하면, 조금 잘못된(?) 상상이었던 것 같지만 암튼 그랬다.&lt;&#x2F;p&gt;
&lt;h2 id=&quot;bonmun&quot;&gt;본문&lt;&#x2F;h2&gt;
&lt;h3 id=&quot;activity-gaegce-ilgeoogi&quot;&gt;Activity 객체 읽어오기&lt;&#x2F;h3&gt;
&lt;p&gt;내가 적은 글의 Activity 객체 버전을 확인해보려면 어떻게 해야 하지 싶던 중, @hongminhee@hackers.pub 님이 만드신 &lt;a href=&quot;https:&#x2F;&#x2F;fedify.dev&quot;&gt;Fedify&lt;&#x2F;a&gt;에서 제공하는 CLI 도구에 관련 기능이 있었던 것 같아 살펴보니 &lt;a href=&quot;https:&#x2F;&#x2F;fedify.dev&#x2F;cli#fedify-lookup-looking-up-an-activitypub-object&quot;&gt;&lt;code&gt;fedify lookup&lt;&#x2F;code&gt;&lt;&#x2F;a&gt;이라는 명령어가 있었다.&lt;&#x2F;p&gt;
&lt;p&gt;사용법은 아래와 같이 인자로 글 URL을 넘겨주면 됐다.&lt;&#x2F;p&gt;
&lt;pre style=&quot;background-color:#2b303b;color:#c0c5ce;&quot;&gt;&lt;code&gt;&lt;span&gt;fedify lookup https:&#x2F;&#x2F;social.silicon.moe&#x2F;@moreal&#x2F;114252336335817713
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;그러면 아래와 같이 Activity 객체 내용을 보여준다:&lt;&#x2F;p&gt;
&lt;pre style=&quot;background-color:#2b303b;color:#c0c5ce;&quot;&gt;&lt;code&gt;&lt;span&gt;$ fedify lookup https:&#x2F;&#x2F;social.silicon.moe&#x2F;@moreal&#x2F;114252336335817713
&lt;&#x2F;span&gt;&lt;span&gt;✔ Fetched object: https:&#x2F;&#x2F;social.silicon.moe&#x2F;@moreal&#x2F;114252336335817713.
&lt;&#x2F;span&gt;&lt;span&gt;Note {
&lt;&#x2F;span&gt;&lt;span&gt;  id: URL &amp;quot;https:&#x2F;&#x2F;social.silicon.moe&#x2F;users&#x2F;moreal&#x2F;statuses&#x2F;114252336335817713&amp;quot;,
&lt;&#x2F;span&gt;&lt;span&gt;  attribution: URL &amp;quot;https:&#x2F;&#x2F;social.silicon.moe&#x2F;users&#x2F;moreal&amp;quot;,
&lt;&#x2F;span&gt;&lt;span&gt;  contents: [ &amp;quot;&amp;lt;p&amp;gt;본문&amp;lt;&#x2F;p&amp;gt;&amp;quot;, &amp;lt;ko&amp;gt; &amp;quot;&amp;lt;p&amp;gt;본문&amp;lt;&#x2F;p&amp;gt;&amp;quot; ],
&lt;&#x2F;span&gt;&lt;span&gt;  published: 2025-03-30T16:31:40Z,
&lt;&#x2F;span&gt;&lt;span&gt;  replies: Collection {
&lt;&#x2F;span&gt;&lt;span&gt;    id: URL &amp;quot;https:&#x2F;&#x2F;social.silicon.moe&#x2F;users&#x2F;moreal&#x2F;statuses&#x2F;114252336335817713&#x2F;replies&amp;quot;,
&lt;&#x2F;span&gt;&lt;span&gt;    first: CollectionPage {
&lt;&#x2F;span&gt;&lt;span&gt;      partOf: URL &amp;quot;https:&#x2F;&#x2F;social.silicon.moe&#x2F;users&#x2F;moreal&#x2F;statuses&#x2F;114252336335817713&#x2F;replies&amp;quot;,
&lt;&#x2F;span&gt;&lt;span&gt;      next: URL &amp;quot;https:&#x2F;&#x2F;social.silicon.moe&#x2F;users&#x2F;moreal&#x2F;statuses&#x2F;114252336335817713&#x2F;replies?only_other_accounts=true&amp;amp;page=true&amp;quot;
&lt;&#x2F;span&gt;&lt;span&gt;    }
&lt;&#x2F;span&gt;&lt;span&gt;  },
&lt;&#x2F;span&gt;&lt;span&gt;  shares: Collection {
&lt;&#x2F;span&gt;&lt;span&gt;    id: URL &amp;quot;https:&#x2F;&#x2F;social.silicon.moe&#x2F;users&#x2F;moreal&#x2F;statuses&#x2F;114252336335817713&#x2F;shares&amp;quot;,
&lt;&#x2F;span&gt;&lt;span&gt;    totalItems: 0
&lt;&#x2F;span&gt;&lt;span&gt;  },
&lt;&#x2F;span&gt;&lt;span&gt;  likes: Collection {
&lt;&#x2F;span&gt;&lt;span&gt;    id: URL &amp;quot;https:&#x2F;&#x2F;social.silicon.moe&#x2F;users&#x2F;moreal&#x2F;statuses&#x2F;114252336335817713&#x2F;likes&amp;quot;,
&lt;&#x2F;span&gt;&lt;span&gt;    totalItems: 0
&lt;&#x2F;span&gt;&lt;span&gt;  },
&lt;&#x2F;span&gt;&lt;span&gt;  summary: &amp;quot;Content Warning 테스트&amp;quot;,
&lt;&#x2F;span&gt;&lt;span&gt;  url: URL &amp;quot;https:&#x2F;&#x2F;social.silicon.moe&#x2F;@moreal&#x2F;114252336335817713&amp;quot;,
&lt;&#x2F;span&gt;&lt;span&gt;  to: URL &amp;quot;https:&#x2F;&#x2F;social.silicon.moe&#x2F;users&#x2F;moreal&#x2F;followers&amp;quot;,
&lt;&#x2F;span&gt;&lt;span&gt;  cc: URL &amp;quot;https:&#x2F;&#x2F;www.w3.org&#x2F;ns&#x2F;activitystreams#Public&amp;quot;,
&lt;&#x2F;span&gt;&lt;span&gt;  sensitive: true
&lt;&#x2F;span&gt;&lt;span&gt;}
&lt;&#x2F;span&gt;&lt;span&gt;✔ Successfully fetched the object.
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;h3 id=&quot;activity-gaegce-ihaehagi&quot;&gt;Activity 객체 이해하기&lt;&#x2F;h3&gt;
&lt;p&gt;&quot;Content Warnings&quot;에 넣었던 &lt;code&gt;Content Warning 테스트&lt;&#x2F;code&gt;라는 문구는 &lt;code&gt;summary&lt;&#x2F;code&gt; 필드에 들어있었다.&lt;&#x2F;p&gt;
&lt;p&gt;&lt;code&gt;summary&lt;&#x2F;code&gt; 필드에 대해 살펴보기 위해서 &lt;a href=&quot;https:&#x2F;&#x2F;www.w3.org&#x2F;TR&#x2F;activitypub&#x2F;&quot;&gt;ActivityPub 문서&lt;&#x2F;a&gt;에 들어갔다. &lt;code&gt;&quot;Note&quot;&lt;&#x2F;code&gt;를 키워드로 검색해보니 아래 같은 예제를 발견했다:&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;json&quot; style=&quot;background-color:#2b303b;color:#c0c5ce;&quot; class=&quot;language-json &quot;&gt;&lt;code class=&quot;language-json&quot; data-lang=&quot;json&quot;&gt;&lt;span&gt;{&amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;@context&lt;&#x2F;span&gt;&lt;span&gt;&amp;quot;: &amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;https:&#x2F;&#x2F;www.w3.org&#x2F;ns&#x2F;activitystreams&lt;&#x2F;span&gt;&lt;span&gt;&amp;quot;,
&lt;&#x2F;span&gt;&lt;span&gt; &amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;type&lt;&#x2F;span&gt;&lt;span&gt;&amp;quot;: &amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;Note&lt;&#x2F;span&gt;&lt;span&gt;&amp;quot;,
&lt;&#x2F;span&gt;&lt;span&gt; &amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;to&lt;&#x2F;span&gt;&lt;span&gt;&amp;quot;: [&amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;https:&#x2F;&#x2F;chatty.example&#x2F;ben&#x2F;&lt;&#x2F;span&gt;&lt;span&gt;&amp;quot;],
&lt;&#x2F;span&gt;&lt;span&gt; &amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;attributedTo&lt;&#x2F;span&gt;&lt;span&gt;&amp;quot;: &amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;https:&#x2F;&#x2F;social.example&#x2F;alyssa&#x2F;&lt;&#x2F;span&gt;&lt;span&gt;&amp;quot;,
&lt;&#x2F;span&gt;&lt;span&gt; &amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;content&lt;&#x2F;span&gt;&lt;span&gt;&amp;quot;: &amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;Say, did you finish reading that book I lent you?&lt;&#x2F;span&gt;&lt;span&gt;&amp;quot;}
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;예전에 Fedify에 기여할 때 기억으로는 Activity가 &lt;a href=&quot;https:&#x2F;&#x2F;json-ld.org&#x2F;&quot;&gt;JSON-LD&lt;&#x2F;a&gt; 포맷으로 표현되므로 스키마를 확인하고자 &lt;code&gt;@context&lt;&#x2F;code&gt; 필드의 링크로 들어갔다. 그렇게 타고 들어가서 &lt;a href=&quot;https:&#x2F;&#x2F;www.w3.org&#x2F;TR&#x2F;activitystreams-vocabulary&#x2F;#dfn-note&quot;&gt;Note의 정의&lt;&#x2F;a&gt;를 발견했는데 &lt;a href=&quot;https:&#x2F;&#x2F;www.w3.org&#x2F;TR&#x2F;activitystreams-vocabulary&#x2F;#dfn-object&quot;&gt;Object&lt;&#x2F;a&gt;를 상속하였고, 상속받은 것 외에 자신만의 필드는 없어 보였다.&lt;&#x2F;p&gt;
&lt;p&gt;링크를 또 타고 들어가 &lt;a href=&quot;https:&#x2F;&#x2F;www.w3.org&#x2F;TR&#x2F;activitystreams-vocabulary&#x2F;#dfn-summary&quot;&gt;summary의 정의&lt;&#x2F;a&gt;를 볼 수 있었다. 설명은 아래와 같다:&lt;&#x2F;p&gt;
&lt;pre style=&quot;background-color:#2b303b;color:#c0c5ce;&quot;&gt;&lt;code&gt;&lt;span&gt;A natural language summarization of the object encoded as HTML. Multiple language tagged summaries MAY be provided.
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;HTML로 스타일링할 수도 있고, 여러 언어별로 요약을 제공할 수도 있다고 한다. 아래 JSON은 문서에 있는 예제인데, 영어(en)와 스페인어(es), 중국어 간체(zh-Hans) 언어마다 요약을 각각 제공하는 것으로 보인다.&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;json&quot; style=&quot;background-color:#2b303b;color:#c0c5ce;&quot; class=&quot;language-json &quot;&gt;&lt;code class=&quot;language-json&quot; data-lang=&quot;json&quot;&gt;&lt;span&gt;{
&lt;&#x2F;span&gt;&lt;span&gt;  &amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;@context&lt;&#x2F;span&gt;&lt;span&gt;&amp;quot;: &amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;https:&#x2F;&#x2F;www.w3.org&#x2F;ns&#x2F;activitystreams&lt;&#x2F;span&gt;&lt;span&gt;&amp;quot;,
&lt;&#x2F;span&gt;&lt;span&gt;  &amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;name&lt;&#x2F;span&gt;&lt;span&gt;&amp;quot;: &amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;Cane Sugar Processing&lt;&#x2F;span&gt;&lt;span&gt;&amp;quot;,
&lt;&#x2F;span&gt;&lt;span&gt;  &amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;type&lt;&#x2F;span&gt;&lt;span&gt;&amp;quot;: &amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;Note&lt;&#x2F;span&gt;&lt;span&gt;&amp;quot;,
&lt;&#x2F;span&gt;&lt;span&gt;  &amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;summaryMap&lt;&#x2F;span&gt;&lt;span&gt;&amp;quot;: {
&lt;&#x2F;span&gt;&lt;span&gt;    &amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;en&lt;&#x2F;span&gt;&lt;span&gt;&amp;quot;: &amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;A simple &amp;lt;em&amp;gt;note&amp;lt;&#x2F;em&amp;gt;&lt;&#x2F;span&gt;&lt;span&gt;&amp;quot;,
&lt;&#x2F;span&gt;&lt;span&gt;    &amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;es&lt;&#x2F;span&gt;&lt;span&gt;&amp;quot;: &amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;Una &amp;lt;em&amp;gt;nota&amp;lt;&#x2F;em&amp;gt; sencilla&lt;&#x2F;span&gt;&lt;span&gt;&amp;quot;,
&lt;&#x2F;span&gt;&lt;span&gt;    &amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;zh-Hans&lt;&#x2F;span&gt;&lt;span&gt;&amp;quot;: &amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;一段&amp;lt;em&amp;gt;简单的&amp;lt;&#x2F;em&amp;gt;笔记&lt;&#x2F;span&gt;&lt;span&gt;&amp;quot;
&lt;&#x2F;span&gt;&lt;span&gt;  }
&lt;&#x2F;span&gt;&lt;span&gt;}
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;h2 id=&quot;gyeolron&quot;&gt;결론&lt;&#x2F;h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;del&gt;&lt;code&gt;Content Warnings&lt;&#x2F;code&gt;에 요약을 적는 건 적절한 용례이다! (?)&lt;&#x2F;del&gt;
&lt;ul&gt;
&lt;li&gt;+) Hackers&#x27; Pub에서 &lt;a href=&quot;https:&#x2F;&#x2F;hackers.pub&#x2F;@hongminhee&#x2F;0195e9b8-8824-7461-85e8-346664f4fa2a&quot;&gt;댓글&lt;&#x2F;a&gt;로 달아주셔서 알게된 놓친 부분인데, &lt;code&gt;Content Warnings&lt;&#x2F;code&gt;를 쓰면 &lt;a href=&quot;https:&#x2F;&#x2F;docs.joinmastodon.org&#x2F;spec&#x2F;activitypub&#x2F;#sensitive&quot;&gt;&lt;code&gt;as:sensitive&lt;&#x2F;code&gt;&lt;&#x2F;a&gt; 확장 속성도 같이 추가되어서 Mastodon에서 &lt;code&gt;Content Warnings&lt;&#x2F;code&gt;를 요약으로 쓰는 것이 마냥 맞는 용례는 아닌 것 같다.&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
&lt;&#x2F;li&gt;
&lt;li&gt;사용자가 주로 사용하는 언어로 작성하면, 애플리케이션 단에서 다른 요약들도 번역해서 자동으로 채워줄 수도 있겠다. (읽는 쪽에서 번역하는 게 나으려나)&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
</content>
        
    </entry>
</feed>
